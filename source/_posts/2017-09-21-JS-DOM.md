---
title: JS-DOM-WINDOW
date: 2017-09-22 02:12:21
categories: Web
tags: 
    - JS
    - DOM
    - WINDOW
---

# HTML-DOM

当网页被加载时，浏览器会创建页面的文档对象模型（Document Object Model）

通过可编程的对象模型，JavaScript 获得了足够的能力来创建动态的 HTML：
+ JavaScript 能够改变页面中的所有 HTML 元素
+ JavaScript 能够改变页面中的所有 HTML 属性
+ JavaScript 能够改变页面中的所有 CSS 样式
+ JavaScript 能够对页面中的所有事件做出反应

使用原生JavaScript和jQuery操作DOM


## 查找HTML元素

    getElementById()	    返回对拥有指定 id 的第一个对象的引用
    getElementsByName()	    返回带有指定名称的对象集合
    getElementsByTagName()	返回带有指定标签名的对象集合

提示：通过类名查找 HTML 元素在 IE 5,6,7,8 中无效


## 改变 HTML 内容

    document.write()    可用于直接向 HTML 输出流写内容
    document.writeln()  不同的是在每个表达式之后写一个换行符
    document.open()	    打开一个流，以收集来自任何 document.write() 或 document.writeln() 方法的输出
    document.close()	关闭用 document.open() 方法打开的输出流，并显示选定的数据

## 改变 HTML 属性

    document.getElementById(id).attribute=new value

## 改变 HTML 样式

    document.getElementById(id).style.property=new style

## DOM 事件

    onabort	        图像的加载被中断
    onblur	        元素失去焦点
    onchange	    域的内容被改变
    onclick	        当用户点击某个对象时调用的事件句柄
    ondblclick  	当用户双击某个对象时调用的事件句柄
    onerror	        在加载文档或图像时发生错误
    onfocus	        元素获得焦点
    onkeydown	    某个键盘按键被按下
    onkeypress	    某个键盘按键被按下并松开
    onkeyup	        某个键盘按键被松开
    onload	        一张页面或一幅图像完成加载
    onmousedown	    鼠标按钮被按下
    onmousemove	    鼠标被移动
    onmouseout	    鼠标从某元素移开
    onmouseover	    鼠标移到某元素之上
    onmouseup	    鼠标按键被松开
    onreset	        重置按钮被点击
    onresize	    窗口或框架被重新调整大小
    onselect	    文本被选中
    onsubmit	    确认按钮被点击
    onunload	    用户退出页面
    altKey	        返回当事件被触发时，"ALT" 是否被按下
    button	        返回当事件被触发时，哪个鼠标按钮被点击
    clientX	        返回当事件被触发时，鼠标指针的水平坐标
    clientY	        返回当事件被触发时，鼠标指针的垂直坐标
    ctrlKey	        返回当事件被触发时，"CTRL" 键是否被按下
    metaKey	        返回当事件被触发时，"meta" 键是否被按下
    relatedTarget	返回与事件的目标节点相关的节点
    screenX	        返回当某个事件被触发时，鼠标指针的水平坐标
    screenY	        返回当某个事件被触发时，鼠标指针的垂直坐标
    shiftKey	    返回当事件被触发时，"SHIFT" 键是否被按下


## 添加和删除节点（HTML 元素）

    para = document.createElement()
    node = document.createTextNode()
    para.appendChild(node)
    
    parent.removeChild(child)

---

# Browser 对象

## Window 浏览器对象模型

浏览器对象模型BOM (Browser Object Model),所有浏览器都支持 window 对象。它表示浏览器窗口

所有 JavaScript 全局对象、函数以及变量均自动成为 window 对象的成员。全局变量是 window 对象的属性。全局函数是 window 对象的方法。甚至 HTML DOM 的 document 也是 window 对象的属性之一

### Window 属性

    closed	        返回窗口是否已被关闭
    defaultStatus	设置或返回窗口状态栏中的默认文本
    document	对 Document 对象的只读引用请参阅 Document 对象
    history	    对 History 对象的只读引用。请参数 History 对象
    innerheight	返回窗口的文档显示区的高度
    innerwidth	返回窗口的文档显示区的宽度
    length	    设置或返回窗口中的框架数量
    location	用于窗口或框架的 Location 对象。请参阅 Location 对象
    name	    设置或返回窗口的名称
    Navigator	对 Navigator 对象的只读引用。请参数 Navigator 对象
    opener	    返回对创建此窗口的窗口的引用
    outerheight	返回窗口的外部高度
    outerwidth	返回窗口的外部宽度
    pageXOffset	设置或返回当前页面相对于窗口显示区左上角的 X 位置
    pageYOffset	设置或返回当前页面相对于窗口显示区左上角的 Y 位置
    parent	返回父窗口
    Screen	对 Screen 对象的只读引用。请参数 Screen 对象
    self	返回对当前窗口的引用。等价于 Window 属性
    status	设置窗口状态栏的文本
    top	    返回最顶层的先辈窗口
    window	window 属性等价于 self 属性，它包含了对窗口自身的引用
    screenLeft
    screenTop
    screenX
    screenY
    只读整数。声明了窗口的左上角在屏幕上的的 x 坐标和 y 坐标。IE、Safari 和 Opera 支持 screenLeft 和 screenTop，而 Firefox 和 Safari 支持 screenX 和 screenY。

### Window 对象方法

    alert()	    显示带有一段消息和一个确认按钮的警告框
    blur()	    把键盘焦点从顶层窗口移开
    clearInterval()	取消由 setInterval() 设置的 timeout
    clearTimeout()	取消由 setTimeout() 方法设置的 timeout
    close()	    关闭浏览器窗口
    confirm()	显示带有一段消息以及确认按钮和取消按钮的对话框
    createPopup()	创建一个 pop-up 窗口
    focus()	    把键盘焦点给予一个窗口
    moveBy()	可相对窗口的当前坐标把它移动指定的像素
    moveTo()	把窗口的左上角移动到一个指定的坐标
    open()	    打开一个新的浏览器窗口或查找一个已命名的窗口
    print()	    打印当前窗口的内容
    prompt()	显示可提示用户输入的对话框
    resizeBy()	按照指定的像素调整窗口的大小
    resizeTo()	把窗口的大小调整到指定的宽度和高度
    scrollBy()	按照指定的像素值来滚动内容
    scrollTo()	把内容滚动到指定的坐标
    setInterval()	按照指定的周期（以毫秒计）来调用函数或计算表达式
    setTimeout()	在指定的毫秒数后调用函数或计算表达式

## Screen 对象

Screen 对象包含有关客户端显示屏幕的信息,对象属性:

    availHeight	返回显示屏幕的高度 (除 Windows 任务栏之外)
    availWidth	返回显示屏幕的宽度 (除 Windows 任务栏之外)
    bufferDepth	设置或返回调色板的比特深度
    colorDepth	返回目标设备或缓冲器上的调色板的比特深度
    deviceXDPI	返回显示屏幕的每英寸水平点数
    deviceYDPI	返回显示屏幕的每英寸垂直点数
    fontSmoothingEnabled	返回用户是否在显示控制面板中启用了字体平滑
    height	返回显示屏幕的高度
    logicalXDPI	返回显示屏幕每英寸的水平方向的常规点数
    logicalYDPI	返回显示屏幕每英寸的垂直方向的常规点数
    pixelDepth	返回显示屏幕的颜色分辨率（比特每像素）
    updateInterval	设置或返回屏幕的刷新率。
    width	返回显示器屏幕的宽度。

## History 对象

History 对象包含用户（在浏览器窗口中）访问过的 URL, 对象属性

    length	返回浏览器历史列表中的 URL 数量
    back()	加载 history 列表中的前一个 URL
    forward()	加载 history 列表中的下一个 URL
    go()	加载 history 列表中的某个具体页面


## Navigator 对象

Navigator 对象包含有关浏览器的信息,对象属性

    appCodeName	返回浏览器的代码名
    appMinorVersion	返回浏览器的次级版本
    appName	返回浏览器的名称
    appVersion	返回浏览器的平台和版本信息
    browserLanguage	返回当前浏览器的语言
    cookieEnabled	返回指明浏览器中是否启用 cookie 的布尔值
    cpuClass	返回浏览器系统的 CPU 等级
    onLine	返回指明系统是否处于脱机模式的布尔值
    platform	返回运行浏览器的操作系统平台
    systemLanguage	返回 OS 使用的默认语言
    userAgent	返回由客户机发送服务器的 user-agent 头部的值
    userLanguage	返回 OS 的自然语言设置
    javaEnabled()	规定浏览器是否启用 Java
    taintEnabled()	规定浏览器是否启用数据污点 (data tainting)

## Location 对象

Location 对象包含有关当前 URL 的信息。对象属性：

    hash	设置或返回从井号 (#) 开始的 URL（锚）
    host	设置或返回主机名和当前 URL 的端口号
    hostname	设置或返回当前 URL 的主机名
    href	设置或返回完整的 URL
    pathname	设置或返回当前 URL 的路径部分
    port	设置或返回当前 URL 的端口号
    protocol	设置或返回当前 URL 的协议
    search	设置或返回从问号 (?) 开始的 URL（查询部分）
    assign()	加载新的文档
    reload()	重新加载当前文档
    replace()	用新的文档替换当前文档
    
## JS PopupAlert

+ 当警告框出现后，用户需要点击确定按钮才能继续进行操作。语法：alert("文本")
+ 确认框用于使用户可以验证或者接受某些信息。如果用户点击确认，那么返回值为 true。如果用户点击取消，那么返回值为 false。语法：confirm("文本")
+ 提示框经常用于提示用户在进入页面前输入某个值。如果用户点击确认，那么返回值为输入的值。如果用户点击取消，那么返回值为 null。语法：prompt("文本","默认值")

## JS Timing

通过使用 JavaScript，我们有能力作到在一个设定的时间间隔之后来执行代码，而不是在函数被调用后立即执行。我们称之为计时事件。

### setTimeout()

    var t = setTimeout(code,millisec)
    clearTimeout(t)

setTimeout()在一个设定的时间间隔之后来执行代码，而不是在函数被调用后立即执行。第一个参数`code`是含有 JavaScript 语句。第二个参数`millisec`指示从当前起多少毫秒后执行第一个参数

提示：1000 毫秒等于一秒

### setInterval()

    var t = setInterval(code,millisec)
    Window.clearInterval(t)

setInterval() 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式，直到 clearInterval() 被调用或窗口被关闭。`code`	必需。要调用的函数或要执行的代码串。`millisec`	必须。周期性执行或调用 code 之间的时间间隔，以毫秒计。
返回值


## Cookie

Cookie 以名/值对形式存储，如下所示:

    username=John Doe

当浏览器从服务器上请求 web 页面时， 属于该页面的 cookie 会被添加到该请求中。服务端通过这种方式来获取用户的信息。

JavaScript 中，创建 cookie 如下所示：

    document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 GMT; path=/";
    
在 JavaScript 中, 可以使用以下代码来读取 cookie：

    var x = document.cookie;

document.cookie 将以字符串的方式返回所有的 cookie，类型格式： cookie1=value; cookie2=value; cookie3=value;

使用 JavaScript 删除 cookie 非常简单。您只需要设置 expires 参数为过期的时间即可

